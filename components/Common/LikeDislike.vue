<template>
  <div class="flex items-center gap-4">
    <div class="flex-y-center gap-2">
      <p
        class="text-base leading-140 font-semibold"
        :class="isLiked ? 'text-blue-200 dark:text-blue-100' : 'text-gray-200'"
      >
        {{ likes }}
      </p>
      <button
        class="disabled:cursor-pointer group"
        :class="isLiked ? 'animated-like' : ''"
        @click="toggleLike()"
      >
        <svg
          width="20"
          height="22"
          viewBox="0 0 20 22"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M18.2696 15.265L18.9752 11.1852C19.1514 10.1662 18.3678 9.2342 17.3348 9.2342H12.1537C11.6402 9.2342 11.2492 8.77328 11.3323 8.26598L11.995 4.22142C12.1026 3.56435 12.0719 2.892 11.9047 2.24752C11.7662 1.71364 11.3543 1.28495 10.8126 1.11093L10.6676 1.06435C10.3402 0.95918 9.98287 0.983654 9.6742 1.13239C9.33445 1.29611 9.08589 1.59473 8.99376 1.94989L8.51805 3.78374C8.36669 4.36723 8.14622 4.93045 7.86195 5.46262C7.4466 6.24017 6.80441 6.86246 6.13688 7.43769L4.69814 8.67749C4.29248 9.02705 4.07945 9.55056 4.12561 10.0844L4.93777 19.4771C5.01227 20.3386 5.73257 21 6.59635 21H11.245C14.7263 21 17.6973 18.5744 18.2696 15.265Z"
            :class="
              isLiked ? 'fill-blue-200 dark:fill-blue-100' : 'fill-transparent'
            "
          />
          <path
            d="M18.9752 11.1852L18.2361 11.0574L18.2361 11.0574L18.9752 11.1852ZM18.2696 15.265L17.5306 15.1371L17.5306 15.1371L18.2696 15.265ZM4.93777 19.4771L4.19056 19.5417L4.19056 19.5417L4.93777 19.4771ZM4.12561 10.0844L4.87282 10.0198L4.87282 10.0198L4.12561 10.0844ZM11.995 4.22142L12.7351 4.34269L12.7351 4.34269L11.995 4.22142ZM11.3323 8.26598L12.0724 8.38725L12.0724 8.38725L11.3323 8.26598ZM4.69814 8.67749L4.20855 8.10933L4.20855 8.10933L4.69814 8.67749ZM6.13688 7.43769L6.62647 8.00585L6.62647 8.00585L6.13688 7.43769ZM8.51805 3.78374L7.79208 3.59542L7.79208 3.59542L8.51805 3.78374ZM8.99376 1.94989L9.71973 2.13821L9.71973 2.13821L8.99376 1.94989ZM10.6676 1.06435L10.4382 1.77841L10.4382 1.77841L10.6676 1.06435ZM10.8126 1.11093L11.042 0.396866L11.042 0.396866L10.8126 1.11093ZM7.86195 5.46262L8.52348 5.81599L8.52348 5.81599L7.86195 5.46262ZM11.9047 2.24752L11.1787 2.43584L11.1787 2.43584L11.9047 2.24752ZM9.6742 1.13239L9.34862 0.456746L9.34862 0.456746L9.6742 1.13239ZM1.9716 20.4707L1.22439 20.5353L1.22439 20.5353L1.9716 20.4707ZM1 9.2342L1.74721 9.16959C1.71261 8.76945 1.36893 8.46758 0.967665 8.4849C0.566401 8.50221 0.25 8.83256 0.25 9.2342L1 9.2342ZM18.2361 11.0574L17.5306 15.1371L19.0087 15.3928L19.7142 11.313L18.2361 11.0574ZM11.245 20.25H6.59635V21.75H11.245V20.25ZM5.68498 19.4125L4.87282 10.0198L3.3784 10.149L4.19056 19.5417L5.68498 19.4125ZM17.5306 15.1371C17.0238 18.0677 14.3813 20.25 11.245 20.25V21.75C15.0712 21.75 18.3708 19.081 19.0087 15.3928L17.5306 15.1371ZM11.2548 4.10015L10.5921 8.14472L12.0724 8.38725L12.7351 4.34269L11.2548 4.10015ZM5.18773 9.24564L6.62647 8.00585L5.64729 6.86954L4.20855 8.10933L5.18773 9.24564ZM9.24403 3.97206L9.71973 2.13821L8.26779 1.76157L7.79208 3.59542L9.24403 3.97206ZM10.4382 1.77841L10.5832 1.82498L11.042 0.396866L10.897 0.350295L10.4382 1.77841ZM8.52348 5.81599C8.83545 5.23198 9.07766 4.61339 9.24403 3.97206L7.79208 3.59542C7.65573 4.12107 7.45699 4.62893 7.20042 5.10924L8.52348 5.81599ZM10.5832 1.82498C10.8896 1.92342 11.1072 2.16009 11.1787 2.43584L12.6307 2.05921C12.4252 1.26719 11.819 0.64648 11.042 0.396866L10.5832 1.82498ZM9.71973 2.13821C9.75475 2.0032 9.85225 1.87913 9.99978 1.80804L9.34862 0.456746C8.81664 0.713094 8.41702 1.18627 8.26779 1.76157L9.71973 2.13821ZM9.99978 1.80804C10.1345 1.74311 10.2931 1.73181 10.4382 1.77841L10.897 0.350295C10.3873 0.186546 9.83121 0.224198 9.34862 0.456746L9.99978 1.80804ZM12.1537 9.9842H17.3348V8.4842H12.1537V9.9842ZM2.71881 20.4061L1.74721 9.16959L0.252788 9.29881L1.22439 20.5353L2.71881 20.4061ZM1.75 20.5127V9.2342H0.25V20.5127H1.75ZM1.22439 20.5353C1.2112 20.3828 1.33146 20.25 1.48671 20.25V21.75C2.21268 21.75 2.78122 21.1279 2.71881 20.4061L1.22439 20.5353ZM12.7351 4.34269C12.8596 3.58256 12.8241 2.80477 12.6307 2.0592L11.1787 2.43584C11.3197 2.97923 11.3456 3.54613 11.2548 4.10016L12.7351 4.34269ZM6.59635 20.25C6.12244 20.25 5.72601 19.887 5.68498 19.4125L4.19056 19.5417C4.29852 20.7902 5.3427 21.75 6.59635 21.75V20.25ZM6.62647 8.00585C7.30632 7.42 8.03915 6.72267 8.52348 5.81599L7.20042 5.10924C6.85404 5.75767 6.3025 6.30493 5.64729 6.86954L6.62647 8.00585ZM19.7142 11.313C19.9695 9.83651 18.8341 8.4842 17.3348 8.4842V9.9842C17.9014 9.9842 18.3332 10.4959 18.2361 11.0574L19.7142 11.313ZM1.48671 20.25C1.63292 20.25 1.75 20.3684 1.75 20.5127H0.25C0.25 21.1953 0.80289 21.75 1.48671 21.75V20.25ZM10.5921 8.14471C10.4344 9.10756 11.1766 9.9842 12.1537 9.9842V8.4842C12.1038 8.4842 12.0639 8.43901 12.0724 8.38725L10.5921 8.14471ZM4.87282 10.0198C4.8474 9.72582 4.96475 9.43779 5.18773 9.24564L4.20855 8.10933C3.62022 8.61631 3.31149 9.37529 3.3784 10.149L4.87282 10.0198Z"
            :class="
              isLiked
                ? 'fill-blue-200 dark:fill-blue-100'
                : 'fill-gray-200 group-hover:fill-blue-100'
            "
          />
        </svg>
      </button>
    </div>
    <div class="flex-y-center gap-2">
      <button
        class="disabled:cursor-pointer group"
        :class="isDisliked ? 'animated-dislike' : ''"
        @click="toggleDislike()"
      >
        <svg
          width="20"
          height="22"
          viewBox="0 0 20 22"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M18.2696 6.73505L18.9752 10.8148C19.1514 11.8338 18.3678 12.7658 17.3348 12.7658H12.1537C11.6402 12.7658 11.2492 13.2267 11.3323 13.734L11.995 17.7786C12.1026 18.4357 12.0719 19.108 11.9047 19.7525C11.7662 20.2864 11.3543 20.7151 10.8126 20.8891L10.6676 20.9356C10.3402 21.0408 9.98287 21.0163 9.6742 20.8676C9.33445 20.7039 9.08589 20.4053 8.99376 20.0501L8.51805 18.2163C8.36669 17.6328 8.14622 17.0695 7.86195 16.5374C7.4466 15.7598 6.80441 15.1375 6.13688 14.5623L4.69814 13.3225C4.29248 12.9729 4.07945 12.4494 4.12561 11.9156L4.93777 2.52293C5.01227 1.66139 5.73257 1 6.59635 1H11.245C14.7263 1 17.6973 3.42561 18.2696 6.73505Z"
            :class="
              isDisliked
                ? 'fill-blue-200 dark:fill-blue-100'
                : 'fill-transparent'
            "
          />
          <path
            d="M18.9752 10.8148L18.2361 10.9426L18.2361 10.9426L18.9752 10.8148ZM18.2696 6.73505L17.5306 6.86285L17.5306 6.86285L18.2696 6.73505ZM4.93777 2.52293L4.19056 2.45832L4.19056 2.45832L4.93777 2.52293ZM4.12561 11.9156L4.87282 11.9802L4.87282 11.9802L4.12561 11.9156ZM11.995 17.7786L12.7351 17.6573L12.7351 17.6573L11.995 17.7786ZM11.3323 13.734L12.0724 13.6128L12.0724 13.6128L11.3323 13.734ZM4.69814 13.3225L4.20855 13.8907L4.20855 13.8907L4.69814 13.3225ZM6.13688 14.5623L6.62647 13.9942L6.62647 13.9942L6.13688 14.5623ZM8.51805 18.2163L7.79208 18.4046L7.79208 18.4046L8.51805 18.2163ZM8.99376 20.0501L9.71973 19.8618L9.71973 19.8618L8.99376 20.0501ZM10.6676 20.9356L10.4382 20.2216L10.4382 20.2216L10.6676 20.9356ZM10.8126 20.8891L11.042 21.6031L11.042 21.6031L10.8126 20.8891ZM7.86195 16.5374L8.52348 16.184L8.52348 16.184L7.86195 16.5374ZM11.9047 19.7525L11.1787 19.5642L11.1787 19.5642L11.9047 19.7525ZM9.6742 20.8676L9.34862 21.5433L9.34862 21.5433L9.6742 20.8676ZM1.9716 1.52928L1.22439 1.46467L1.22439 1.46467L1.9716 1.52928ZM1 12.7658L1.74721 12.8304C1.71261 13.2306 1.36893 13.5324 0.967665 13.5151C0.566401 13.4978 0.25 13.1674 0.25 12.7658L1 12.7658ZM18.2361 10.9426L17.5306 6.86285L19.0087 6.60724L19.7142 10.687L18.2361 10.9426ZM11.245 1.75H6.59635V0.25H11.245V1.75ZM5.68498 2.58754L4.87282 11.9802L3.3784 11.851L4.19056 2.45832L5.68498 2.58754ZM17.5306 6.86285C17.0238 3.93226 14.3813 1.75 11.245 1.75V0.25C15.0712 0.25 18.3708 2.91896 19.0087 6.60724L17.5306 6.86285ZM11.2548 17.8998L10.5921 13.8553L12.0724 13.6128L12.7351 17.6573L11.2548 17.8998ZM5.18773 12.7544L6.62647 13.9942L5.64729 15.1305L4.20855 13.8907L5.18773 12.7544ZM9.24403 18.0279L9.71973 19.8618L8.26779 20.2384L7.79208 18.4046L9.24403 18.0279ZM10.4382 20.2216L10.5832 20.175L11.042 21.6031L10.897 21.6497L10.4382 20.2216ZM8.52348 16.184C8.83545 16.768 9.07766 17.3866 9.24403 18.0279L7.79208 18.4046C7.65573 17.8789 7.45699 17.3711 7.20042 16.8908L8.52348 16.184ZM10.5832 20.175C10.8896 20.0766 11.1072 19.8399 11.1787 19.5642L12.6307 19.9408C12.4252 20.7328 11.819 21.3535 11.042 21.6031L10.5832 20.175ZM9.71973 19.8618C9.75475 19.9968 9.85225 20.1209 9.99978 20.192L9.34862 21.5433C8.81664 21.2869 8.41702 20.8137 8.26779 20.2384L9.71973 19.8618ZM9.99978 20.192C10.1345 20.2569 10.2931 20.2682 10.4382 20.2216L10.897 21.6497C10.3873 21.8135 9.83121 21.7758 9.34862 21.5433L9.99978 20.192ZM12.1537 12.0158H17.3348V13.5158H12.1537V12.0158ZM2.71881 1.59389L1.74721 12.8304L0.252788 12.7012L1.22439 1.46467L2.71881 1.59389ZM1.75 1.48726V12.7658H0.25V1.48726H1.75ZM1.22439 1.46467C1.2112 1.61722 1.33146 1.75 1.48671 1.75V0.25C2.21268 0.25 2.78122 0.872096 2.71881 1.59389L1.22439 1.46467ZM12.7351 17.6573C12.8596 18.4174 12.8241 19.1952 12.6307 19.9408L11.1787 19.5642C11.3197 19.0208 11.3456 18.4539 11.2548 17.8998L12.7351 17.6573ZM6.59635 1.75C6.12244 1.75 5.72601 2.11302 5.68498 2.58754L4.19056 2.45832C4.29852 1.20975 5.3427 0.25 6.59635 0.25V1.75ZM6.62647 13.9942C7.30632 14.58 8.03915 15.2773 8.52348 16.184L7.20042 16.8908C6.85404 16.2423 6.3025 15.6951 5.64729 15.1305L6.62647 13.9942ZM19.7142 10.687C19.9695 12.1635 18.8341 13.5158 17.3348 13.5158V12.0158C17.9014 12.0158 18.3332 11.5041 18.2361 10.9426L19.7142 10.687ZM1.48671 1.75C1.63292 1.75 1.75 1.63156 1.75 1.48726H0.25C0.25 0.804742 0.80289 0.25 1.48671 0.25V1.75ZM10.5921 13.8553C10.4344 12.8924 11.1766 12.0158 12.1537 12.0158V13.5158C12.1038 13.5158 12.0639 13.561 12.0724 13.6128L10.5921 13.8553ZM4.87282 11.9802C4.8474 12.2742 4.96475 12.5622 5.18773 12.7544L4.20855 13.8907C3.62022 13.3837 3.31149 12.6247 3.3784 11.851L4.87282 11.9802Z"
            :class="
              isDisliked
                ? 'fill-blue-200 dark:fill-blue-100'
                : 'fill-gray-200 group-hover:fill-blue-100'
            "
          />
        </svg>
      </button>
      <p
        class="text-base leading-140 font-semibold"
        :class="
          isDisliked ? 'text-blue-200 dark:text-blue-100' : 'text-gray-200'
        "
      >
        {{ dislikes }}
      </p>
    </div>
  </div>
</template>

<script lang="ts" setup>
const likes = ref(0)
const dislikes = ref(0)

const isLiked = ref(false)
const isDisliked = ref(false)

function toggleLike() {
  if (isLiked.value) {
    likes.value--
  } else {
    likes.value++
    if (isDisliked.value) {
      dislikes.value--
      isDisliked.value = false
    }
  }
  isLiked.value = !isLiked.value
}
function toggleDislike() {
  if (isDisliked.value) {
    dislikes.value--
  } else {
    dislikes.value++
    if (isLiked.value) {
      likes.value--
      isLiked.value = false
    }
  }
  isDisliked.value = !isDisliked.value
}
</script>

<style scoped>
.animated-like {
  animation: bounce-like 0.5s ease-in-out;
}

.animated-dislike {
  animation: shake-dislike 0.5s ease-in-out;
}

@keyframes bounce-like {
  0% {
    transform: scale(1);
  }
  25% {
    transform: scale(1.2);
  }
  50% {
    transform: scale(0.8);
  }
  75% {
    transform: scale(1.1);
  }
  100% {
    transform: scale(1);
  }
}

@keyframes shake-dislike {
  0% {
    transform: translateX(0);
  }
  25% {
    transform: translateX(-10px);
  }
  50% {
    transform: translateX(10px);
  }
  75% {
    transform: translateX(-5px);
  }
  100% {
    transform: translateX(0);
  }
}
</style>
